{"version":3,"file":"static/js/798.89a54e9f.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetailsStyled.jsx","pages/MovieDetails/MovieDetails.jsx","services/api.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  display: flex;\n  gap: 20px;\n  padding: 30px 0;\n  align-self: flex-start;\n  color: #ececec;\n  width: 60vw;\n  img {\n    width: 350px;\n  }\n  h2 {\n    font-size: 30px;\n  }\n  p {\n    font-size: 20px;\n  }\n`;\n\nexport const Links = styled.div`\n  display: flex;\n  gap: 20px;\n  min-height: 40px;\n  padding-left: 30px;\n  a {\n    color: #ececec;\n    font-size: 20px;\n    text-decoration: none;\n    font-weight: 600;\n  }\n`;\n\nexport const StyledOutlet = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 90%;\n  background-color: #696969;\n  border-radius: 12px;\n  padding: 20px;\n  margin: 0;\n`;\n","import React, { Suspense, useEffect, useRef, useState } from 'react';\nimport {\n  Link,\n  Outlet,\n  useLocation,\n  useNavigate,\n  useParams,\n} from 'react-router-dom';\nimport { fetchMovieById } from 'services/api';\nimport defaultMovieImg from '../../images/video-camera.png';\nimport { Links, StyledOutlet, Wrapper } from './MovieDetailsStyled';\nimport { Container, DefaultBtn, Title } from 'pages/SharedStyles';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchMovieById(movieId)\n      .then(res => setMovie(res))\n      .catch(err => {\n        console.log(err);\n        if (err.response.status === 404) {\n          navigate('/notFound');\n        }\n      });\n  }, [movieId, navigate]);\n\n  const location = useLocation();\n  const goBackRef = useRef(location.state?.from);\n  // console.log(movie);\n\n  const handleGoBack = () => {\n    navigate(goBackRef.current || '/movies');\n  };\n\n  if (!movie) {\n    return <Title>Loading ...</Title>;\n  }\n\n  return (\n    <Container>\n      <DefaultBtn onClick={handleGoBack}>Go back</DefaultBtn>\n      <Wrapper>\n        <img\n          src={movie.poster ? movie.poster : defaultMovieImg}\n          alt={`${movie.title} poster`}\n          width={250}\n        />\n\n        <div>\n          <h2>{movie.title}</h2>\n          <p>Rating: {movie.score}%</p>\n          <p>Overview: {movie.overview}</p>\n        </div>\n      </Wrapper>\n      <hr />\n      <Links>\n        <Link to=\"cast\">Cast</Link>\n        <Link to=\"reviews\">Reviews</Link>\n      </Links>\n      <StyledOutlet>\n        <Suspense fallback={<Title> Loading...</Title>}>\n          <Outlet />\n        </Suspense>\n      </StyledOutlet>\n    </Container>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst ACCESS_KEY = 'fde4dd89a2c817f4c4efb19732e7d4a1';\nconst IMG_BASE_URL = 'http://image.tmdb.org/t/p/w500';\n\nexport const fetchPopMovies = async () => {\n  const {\n    data: { results },\n  } = await axios.get('trending/movie/day', {\n    params: {\n      api_key: ACCESS_KEY,\n    },\n  });\n  return extractMoviesData(results);\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`/movie/${id}`, {\n    params: {\n      api_key: ACCESS_KEY,\n    },\n  });\n  const { title, overview, poster_path, vote_average, genres } = data;\n\n  return {\n    title,\n    overview,\n    poster: poster_path ? IMG_BASE_URL + poster_path : null,\n    score: Math.floor(vote_average * 10),\n    genres,\n  };\n};\n\nexport async function fetchReviews(id) {\n  const { data } = await axios.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: ACCESS_KEY,\n    },\n  });\n\n  return data?.results;\n}\n\nexport const fetchCast = async id => {\n  const { data } = await axios.get(`movie/${id}/credits`, {\n    params: {\n      api_key: ACCESS_KEY,\n    },\n  });\n  return data?.cast.map(({ profile_path, name, character, id }) => ({\n    id,\n    photo: profile_path ? IMG_BASE_URL + profile_path : null,\n    name,\n    character,\n  }));\n};\n\nexport const fetchMoviesByQuery = async query => {\n  const { data } = await axios.get('search/movie', {\n    params: {\n      api_key: ACCESS_KEY,\n      query: query,\n    },\n  });\n  return extractMoviesData(data.results);\n};\n\nfunction extractMoviesData(movies) {\n  const result = movies.map(({ id, title, poster_path }) => ({\n    id,\n    title,\n    poster: poster_path ? IMG_BASE_URL + poster_path : null,\n  }));\n  // console.log(result);\n  return result;\n}\n"],"names":["Wrapper","styled","_templateObject","_taggedTemplateLiteral","Links","_templateObject2","StyledOutlet","_templateObject3","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movie","setMovie","navigate","useNavigate","useEffect","fetchMovieById","then","res","catch","err","console","log","response","status","location","useLocation","goBackRef","useRef","state","from","_jsxs","Container","children","_jsx","DefaultBtn","onClick","current","src","poster","defaultMovieImg","alt","concat","title","width","score","overview","Link","to","Suspense","fallback","Title","Outlet","axios","ACCESS_KEY","IMG_BASE_URL","fetchPopMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","results","_context","prev","next","params","api_key","sent","data","abrupt","extractMoviesData","stop","apply","arguments","_ref2","_callee2","id","_yield$axios$get2","poster_path","vote_average","genres","_context2","Math","floor","_x","fetchReviews","_x2","_fetchReviews","_callee5","_yield$axios$get5","_context5","fetchCast","_ref3","_callee3","_yield$axios$get3","_context3","cast","map","_ref4","profile_path","name","character","photo","_x3","fetchMoviesByQuery","_ref5","_callee4","query","_yield$axios$get4","_context4","_x4","movies","_ref6"],"sourceRoot":""}